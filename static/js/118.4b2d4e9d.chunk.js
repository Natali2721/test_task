"use strict";(self.webpackChunkreact_test_task=self.webpackChunkreact_test_task||[]).push([[118],{9118:function(e,t,n){n.r(t),n.d(t,{default:function(){return y}});var r=n(3433),a=n(5861),s=n(9439),o=n(4687),u=n.n(o),l=n(2791),c=n(1686),i=n.n(c),f=n(4185),A=n(184),d=function(e){var t=e.text,n=e.onClick;return(0,A.jsx)(f.sf,{type:"button",onClick:n,children:t})},h=n(4378),x=n(1243);x.Z.defaults.baseURL="https://639cb5e116d1763ab152294c.mockapi.io/users";var w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return x.Z.get("/?&limit=".concat(8,"&page=").concat(e))},v=function(e){var t=e.id,n=e.tweets,r=e.avatar,a=e.initialFollowers,o=e.name,u=(0,l.useState)(a),c=(0,s.Z)(u,2),i=c[0],d=c[1];(0,l.useEffect)((function(){var e=localStorage.getItem("".concat(t));e&&d(parseInt(e))}),[t]),(0,l.useEffect)((function(){localStorage.setItem("".concat(t),i.toString())}),[i,t]);var h=function(e){return e===a?"follow":"following"}(i);return(0,A.jsxs)(f.HC,{className:h===o||"all"===o?"":"none",children:[(0,A.jsxs)(f.r5,{children:[(0,A.jsx)(f.wn,{}),(0,A.jsx)(f.FN,{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEwAAAAWCAYAAABqgnq6AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAKDSURBVHgB1VgxTxtRDPZVzZBIZYBKzdAMdGBIh2bokqVDu/Yvw8DCwhAGGDLAEAaQyMKQDDkp+LvzQ87TO54TIDGfZOXdxWfe+87+7FAsl8v/tHvM2E6LoiibHHifA/74TjvGJ/KBDtuAPgC8EAZ0OYuOyDk8EQYcMWnfyDG8EQYMmLQ2OYVHwlpsQybtMzmEdVPoXtdsU7Y5GzIAQo2udZDwf2S7Ff+F+PfI3uVCEzinzXDHdiXrQzHgjOr9NwH7HL7wvYkw/IEzbvkzdQ9rkDERodZiPWbfcRSj8mffsWzIUnJVE0jEsqAM++UYC3V/Hp1jBexLOeRKcoUslAnbXqQxe2p9qw8o/p1wLXHwlkuyAU2gR28H7P1A7DlZwj1e7ucC5DJsqsgCSX+o1hhco0Rx8K7y12T94I++rCuiOFb1huVZ6wjRZ/8Hehv8VusTtlJe6NAaIJdhE7WGpoAskDKiWqdmsgZxjxG5ffVsPJhOyY6qCZBdb98VuU1ogQxliKxbObDomNaKTiJWuyGuBQVJZu8auQxLHbKNNE60fa1lyL5Yp1LkW4A4ue62NeQI0yPDBdWbRmn9Zfsa+bZEOCHuyLZL9d1cng9Y50f05UudbdvIleQhkzAJYs3XxyKSCyElBkoT2QDSMHJgHmrpA4u+dckGjCgTcoRchoWp+7mEcHhNluhX0Cy051+hXOGXIGtINj2633AGe1dYOg/I+IdMo3qCLuU5lB9mpPjwuAfibqjWMsr4p4ASHtHm2Jf/nwFfGnwwrpS0ZjNZp1X3xCwAyT9pM1Qi31DyVnQo3ak1rLKwAo8/vkeeRD6GN8Ig8nfkGJ4IcynyMbwQ9lqR3xqeAP79BzwxZzuPAAAAAElFTkSuQmCC",alt:"Logo",width:"76px",height:"22px"}),(0,A.jsx)(f.qE,{children:(0,A.jsx)(f.qe,{src:r,alt:"Avatar",width:"62px",height:"62px"})})]}),(0,A.jsxs)(f.Y_,{children:[(0,A.jsxs)(f.xv,{children:[n," tweets"]}),(0,A.jsxs)(f.xv,{children:[function(e){if(e>999){var t=e.toString();return t.slice(0,-3)+","+t.slice(-3)}return e}(i)," followers"]}),(0,A.jsx)(f.zx,{onClick:function(){d(i===a?function(e){return e+1}:function(e){return e-1})},name:h,className:"follow"===h?"":"active",children:h})]})]})},p=function(e){var t=e.users,n=e.selectedOption;return(0,A.jsx)(f.aV,{children:t&&t.map((function(e){var t=e.avatar,r=e.id,a=e.tweets,s=e.followers;return(0,A.jsx)(v,{id:r,tweets:a,initialFollowers:s,avatar:t,name:n.value},r)}))})},g=n(7689),j=n(9128),Z=function(){var e,t,n=(0,g.TH)();return(0,A.jsx)(f.pr,{type:"button",children:(0,A.jsxs)(f.On,{to:null!==(e=null===(t=n.state)||void 0===t?void 0:t.from)&&void 0!==e?e:"/",children:[(0,A.jsx)(j.siY,{size:16}),"Go back"]})})},k=n(7350),b=[{value:"all",label:"show all"},{value:"follow",label:"follow"},{value:"following",label:"following"}],y=function(){var e=(0,l.useState)([]),t=(0,s.Z)(e,2),n=t[0],o=t[1],c=(0,l.useState)(1),v=(0,s.Z)(c,2),g=v[0],j=v[1],y=(0,l.useState)(!1),E=(0,s.Z)(y,2),C=E[0],m=E[1],Q=(0,l.useState)(!0),D=(0,s.Z)(Q,2),I=D[0],S=D[1],H=(0,l.useState)(b[0]),Y=(0,s.Z)(H,2),G=Y[0],L=Y[1];(0,l.useEffect)((function(){if(!0===I){var e=function(){var e=(0,a.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.prev=1,e.next=4,w(g).then((function(e){if(!e.data.length)return S(!1),i().Notify.failure("Sorry, there isn`t any tweets yet");e.data.length<8&&S(!1),o((function(t){return[].concat((0,r.Z)(t),(0,r.Z)(e.data))})),m(!1)}));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.log("Error");case 9:return e.prev=9,m(!1),e.finish(9);case 12:case"end":return e.stop()}}),e,null,[[1,6,9,12]])})));return function(){return e.apply(this,arguments)}}();e()}}),[g,I]),(0,l.useEffect)((function(){if("all"!==G.value){var e=function(){var e=(0,a.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.prev=1,e.next=4,x.Z.get().then((function(e){if(!e.data.length)return S(!1),i().Notify.failure("Sorry, there isn`t any tweets yet");o(e.data),m(!1),S(!1)}));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.log("Error");case 9:return e.prev=9,m(!1),e.finish(9);case 12:case"end":return e.stop()}}),e,null,[[1,6,9,12]])})));return function(){return e.apply(this,arguments)}}();e()}"all"===G.value&&(S(!0),o([]),j(1))}),[G]);return(0,A.jsxs)(f.W2,{children:[(0,A.jsx)(Z,{}),(0,A.jsxs)(f.eI,{children:[(0,A.jsx)(f.Db,{children:"You can select tweets "}),(0,A.jsx)(k.ZP,{defaultValue:G,onChange:L,options:b})]}),C&&(0,A.jsx)(h.Z,{}),(0,A.jsx)(p,{selectedOption:G,users:n}),I&&(0,A.jsx)(d,{text:"Load More",onClick:function(){j((function(e){return e+1}))}})]})}}}]);
//# sourceMappingURL=118.4b2d4e9d.chunk.js.map